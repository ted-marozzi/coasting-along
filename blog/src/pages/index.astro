---
import { useSanityClient } from "@sanity/astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import type { Post } from "../../../studio/schemas/types";

const posts = await useSanityClient().fetch<Array<Post>>(`*[_type == "post"]`);
---

<BaseLayout title="Home Page">
  <h1>Coasting Along</h1>
  {
    posts && (
      <ul>
        {posts.map((post) => (
          <li>
            <a href={`post/${post.slug.current}`}>{post.title}</a>
          </li>
        ))}
      </ul>
    )
  }
</BaseLayout>
